<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- GOOGLE FONTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jersey+10&display=swap" rel="stylesheet">

    <!-- STYLESHEETS -->
    <link rel="stylesheet" href="/styles/defaults.css">
    <link rel="stylesheet" href="/styles/styles.css">

    <title>Prism Docs | Optical Labs</title>

    <meta name="description" content="Optical Labs Documentation - Prism API">
    <link rel="icon" href="/images/prism/prism logo.webp" type="image/x-icon">
</head>



<body class="stripedBg docs-layout">

    <script src="/js/codeBlocks.js"></script>
    
    <header>

        <button id="mobileMenuToggle">
            <span>Table of Contents</span>
            <span id="menuArrow">â–¼</span>
        </button>

        <div id="contentTable">

            <h1 id="contentTableTitle">Content Table</h1>

            <div class="contentTableCategory">
                <a href="#introduction">Introduction</a>
                <a href="#overview">Overview</a>
                <a href="#quickstart">Quickstart</a>
                <a href="#authentication">Authentication</a>
            </div>

            <div class="contentTableCategory">
                <a href="#general-usage">General Usage</a>
                <a href="#response-structure">Response Structure</a>
                <a href="#rate-limits">Rate Limits</a>
                <a href="#billing">Billing</a>
            </div>

            <div class="contentTableCategory">
                <a href="#endpoints">Endpoints</a>
                <a href="#profanity-censor">Profanity Censor</a>
                <a href="#link-preview">Link Preview</a>
                <a href="#og-image-generation">OG Image Generation</a>
            </div>
        </div>
    </header>




    <main id="docs-main">

        <div id="docs-title-div">
            <h1>Documentation:</h1>
            <h1>Prism API</h1>
        </div>

        <hr class="default-hr">

        <section class="doc-section" id="introduction">
            <h1>Introduction</h1>

            <h2 id="overview">Overview</h2>

            <p>Welcome to Prism's official documentation! Whether you're just starting out or already an expert, this guide is designed to help you integrate our API into your code quickly and efficiently.</p>

            <p>Prism is a REST API that features various endpoints, allowing developers to easily integrate utility tools into their own projects without breaking a sweat. Built on Cloudflare's powerful infrastructure, we are able to deliver near-instant results with a consistent uptime approaching 100%.</p>

            <br>

            <h2 id="quickstart">Quickstart</h2>
            
            <p>To get started, you will need API credentials. After completing your first checkout, you will be issued both a public and a secret API key. Once you have your keys, you can make requests to any of our endpoints using standard HTTP methods. Note that your secret key is used for authentication and should be kept secure.</p>

            <h3>Here is a simple example of a request to check for profanity using curl:</h3>

            <script>
                addCodeBlock("Example", "bash",
`curl -X POST https://prism.optical-labs.ca/text/profanity \\
    -H "Authorization: Bearer <YOUR_SECRET_API_KEY>" \\
    -H "Content-Type: application/json" \\
    -d '{
        "text": "Hello world!",
        "strictness": 2,
        "mask_style": "full"
    }'`);
            </script>

            <br>
        
            <h2 id="authentication">Authentication</h2>
            
            <p>Prism uses Bearer Token authentication. This means you must include your secret API key in the HTTP headers of every request you make.</p>

            <p>API keys always start with the prefix <span class="inline-code">sk_prism_</span> (secret key), or <span class="inline-code">pk_prism</span> (public key) followed by a unique identifier. You can obtain your credentials by purchasing credits. Once you receive your keys, store them securely; they will only be shown to you once. Also note that your API keys are permanently linked to the email address you provide at checkout.</p>

            <p>To authenticate, add the following header to your request: <span class="inline-code">Authorization: Bearer &ltYOUR_SECRET_API_KEY&gt</span></p>

            <p>If your key is missing, invalid, or if you have insufficient credits, the API will return a <span class="inline-code">401 Unauthorized</span> or <span class="inline-code">403 Forbidden</span> error.</p>

        </section>


        <hr class="default-hr extra-hr">


        <section class="doc-section" id="general-usage">
            <h1>General Usage</h1>

            <h2 id="response-structure">Response Structure</h2>
            <p>Prism's endpoints use a unified response structure, returning clean and structured JSON data that is simple to parse in any environment. Each response is wrapped in a consistent object containing a status indicator, a descriptive message, relevant metadata like the credits used and remaining, and the requested data.</p> 
            
            <p>We strictly follow standard REST practices, using appropriate HTTP status codes (2xx for success, 4xx for client errors, 5xx for server errors) to ensure transparent communication with your application.</p>
        
            <h3>Every successful request returns this wrapper:</h3>
            <script>
                addJSONCodeBlock('Standard Success Response Wrapper', {
                    success: true,
                    message: "Success",
                    execution_time: 179,
                    data: {
                        meta: {
                            used_credits: 1,
                            remaining_credits: 12345
                        },
                        result: {
                            "<endpoint_specific_schema>": "This object varies depending on the endpoint."
                        }
                    }
                });
            </script>

            <h3>In the event of an error, the 'result' field is excluded:</h3>
            <script>
                addJSONCodeBlock('Standard Error Response Wrapper', {
                    success: false,
                    message: "Internal Error: <description>. Credits have been refunded.",
                    execution_time: 179,
                    data: {
                        meta: {
                            used_credits: 0,
                            remaining_credits: 12345
                        }
                    }
                });
            </script>

            <br>

            <h2 id="rate-limits">Rate Limits</h2>
            <p>To ensure the security and stability of Prism, we enforce rate limits at multiple levels. These limits are designed to be generous enough for high-volume production apps while preventing abuse.</p>

            <br>

            <p>For user and server limits, you will receive a <span class="inline-code">429 Too Many Requests</span> error following our <a href="#response-structure">standard error response wrapper</a>. However, extreme traffic spikes will trigger our global edge protection.</p>

            <div class="table-wrapper">
                <table>
                    <thread>
                        <tr>
                            <th>Level</th>
                            <th>Limit</th>
                            <th>Identified By</th>
                            <th>Error Response</th>
                        </tr>
                    </thread>
                    <tbody>
                        <tr>
                            <td>User</td>
                            <td>120 Requests/minute</td>
                            <td><span class="inline-code">X-Forwarded-For</span> Header</td>
                            <td><span class="inline-code">429 (JSON)</span></td>
                        </tr>
                        <tr>
                            <td>Server</td>
                            <td>1200 Requests/minute</td>
                            <td>API Key Used</td>
                            <td><span class="inline-code">429 (JSON)</span></td>
                        </tr>
                        <tr>
                            <td>Global</td>
                            <td>240 Requests/10 seconds</td>
                            <td>Incoming IP Address</td>
                            <td><span class="inline-code">1015 (HTML)</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3>Forwarding User IPs</h3>
            <p>If you are calling Prism from your backend server, our API sees your server's IP address as a simple user by default. This means all your customers share the 120 reqs/min limit, which you might hit quickly depending on your traffic.</p>

            <p>To avoid this, you should forward your user's IP address in the headers. Prism checks for the <span class="inline-code">X-Forwarded-For</span> header to identify unique users. If provided, the 120 reqs/min limit applies to that specific IP, while your server falls under the much higher 1200 reqs/min limit.</p>

            <p>Example header to pass individual user rate limits: <span class="inline-code">"X-Forwarded-For": "203.0.113.195"</span></p>

            <p><strong class="highlight-danger">Important:</strong> You are strictly prohibited from sending fake or randomized IP addresses in this header to bypass rate limits. Abuse of this feature is easily detected and will result in the <strong class="highlight-danger">immediate and permanent revocation</strong> of your API key.</p>

            <br>
        
            <h2 id="billing">Billing</h2>
            <p>Prism operates on a prepaid credit system rather than a recurring subscription to ensure you never pay for idle time. One credit roughly equals one standard API execution, but more complex endpoints may cost more.</p>

            <p>Credits are deducted from your balance immediately upon a successful request. If the request returns an error, the credits will be refunded for that request in the majority of cases. You only pay for successful results.</p>

            <!-- credit prices -->
            <h3>Credit Packs:</h3>
            <div class="table-wrapper">
                <table>
                    <thread>
                        <tr>
                            <th>Pack Name</th>
                            <th>Credits</th>
                            <th>Price (USD)</th>
                            <th>Cost per Credit</th>
                        </tr>
                    </thread>
                    <tbody>
                        <tr>
                            <td>Tester</td>
                            <td>1,000</td>
                            <td>$1.99</td>
                            <td>$0.002</td>
                        </tr>
                        <tr>
                            <td>Indie</td>
                            <td>5,000</td>
                            <td>$4.99</td>
                            <td>$0.001</td>
                        </tr>
                        <tr>
                            <td>Startup</td>
                            <td>20,000</td>
                            <td>$14.99</td>
                            <td>$0.00075</td>
                        </tr>
                        <tr>
                            <td>Pro</td>
                            <td>50,000</td>
                            <td>$29.99</td>
                            <td>$0.0006</td>
                        </tr>
                        <tr>
                            <td>Business</td>
                            <td>100,000</td>
                            <td>$49.99</td>
                            <td>$0.0005</td>
                        </tr>
                        <tr>
                            <td>Enterprise</td>
                            <td>400,000</td>
                            <td>$119.99</td>
                            <td>$0.0003</td>
                        </tr>
                    </tbody>
                </table>
            </div>


            <!-- endpoint costs in credits -->
            <h3>Costs of endpoints:</h3>
            <div class="table-wrapper">
                <table>
                    <thread>
                        <tr>
                            <th>Endpoint</th>
                            <th>Cost</th>
                            <th>Description</th>
                        </tr>
                    </thread>
                    <tbody>
                        <tr>
                            <td>Profanity Censor</td>
                            <td>1 credit</td>
                            <td>Remove bad words from a text.</td>
                        </tr>
                        <tr>
                            <td>Link Preview</td>
                            <td>1 credit</td>
                            <td>Retrieve various content from a url.</td>
                        </tr>
                        <tr>
                            <td>OG Image Generation</td>
                            <td>10-22 credits</td>
                            <td>Generate dynamic thumbnails from text values.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        
        </section>


        <hr class="default-hr extra-hr">


        <section class="doc-section" id="endpoints">
            <h1>Endpoints</h1>

            <h2 id="profanity-censor">Profanity Censor</h2>
            <p>The profanity censor endpoint lets you input a text, and returns a censored version of the original text. Multiple optional personalization options available like a strictness level, censor style, a custom list of blacklisted words, and a custom list of whitelisted words.</p>
            <a href="./profanity-censor/" class="sub-page-btn">See documentation</a>

            <br>
            <br>

            <h2 id="link-preview">Link Preview</h2>
            <p>Endpoint not available yet.</p>

            <br>
            <br>

            <h2 id="og-image-generation">OG Image Generation</h2>
            <p>Endpoint not available yet.</p>

        </section>

    </main>



    <script src="/js/main.js"></script>

</body>


</html>